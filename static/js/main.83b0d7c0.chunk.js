(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n,r=a(1),o=a.n(r),i=(a(78),a(34)),c=a(35),s=a(42),l=a(40),u=a(43),m=a.n(u),p=a(8),f=a(23),d=a.n(f),g=a(2),b=a(47),v=a(64),E=a(65),h=a(5),C=a.n(h),O=a(9),j=a(3),P=a(36),_=a.n(P),w=function(e){if(_.a.isAxiosError(e)&&e.response){var t=e.response.data.error;console.log(t)}},y=_.a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"9359a22e-adad-4c18-8f69-1475882f26c8"},withCredentials:!0}),k=function(){return y.get("auth/me")},N=function(e,t,a){return y.post("auth/login",{email:e,password:t,rememberMe:a})},S=function(){return y.delete("auth/login")};!function(e){e.changePreloader="COMMON/PRELOADER"}(n||(n={}));var x,A={preloader:!1},I=function(e){return{type:n.changePreloader,payload:{preloader:e}}};!function(e){e.setAuthData="AUTH/PROFILE/SET-NEW-POST-CLICK"}(x||(x={}));var T,U={id:0,email:"",login:"",isAuth:!1},F=function(e){return{type:x.setAuthData,payload:Object(j.a)({},e)}},D=function(){return function(){var e=Object(O.a)(C.a.mark(function e(t){var a,n,r,o,i;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(I(!0)),e.prev=1,e.next=4,k();case 4:return a=e.sent,n=a.data.data,r=n.id,o=n.email,i=n.login,r&&t(F({id:r,email:o,login:i,isAuth:!0})),e.abrupt("return","aaa");case 10:e.prev=10,e.t0=e.catch(1),w(e.t0);case 13:t(I(!1));case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()},R=function(){var e=Object(g.d)(function(e){return e.login.isAuth}),t=Object(g.c)();return o.a.createElement("nav",{className:d.a.navbar},o.a.createElement(p.c,{exact:!0,to:"/",activeClassName:d.a.active},o.a.createElement(v.a,null),"My profile"),o.a.createElement(p.c,{to:"/dialogs",activeClassName:d.a.active},o.a.createElement(b.b,null),"Message"),o.a.createElement(p.c,{to:"/friends",activeClassName:d.a.active},o.a.createElement(E.a,null),"Friends"),o.a.createElement(p.c,{to:"/users",activeClassName:d.a.active},o.a.createElement(b.a,null),"Users"),e&&o.a.createElement("button",{onClick:function(){t(function(){var e=Object(O.a)(C.a.mark(function e(t){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(I(!0)),e.prev=1,e.next=4,S();case 4:0===e.sent.data.resultCode&&t(F({id:0,email:"",login:"",isAuth:!1})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),w(e.t0);case 11:t(I(!1));case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}())}},"Log Out",o.a.createElement(p.b,{style:{display:"none"},to:""})))},L=a(6),M=a(66),z=a.n(M),q=a(19),B=o.a.memo(function(e){var t=e.value,a=e.updateStatusTC,n=Object(r.useState)(!1),i=Object(q.a)(n,2),c=i[0],s=i[1],l=Object(r.useState)(t),u=Object(q.a)(l,2),m=u[0],p=u[1];return o.a.createElement("div",null,c?o.a.createElement("div",null,o.a.createElement("input",{value:m,autoFocus:!0,onBlur:function(){a(m),s(!1)},onChange:function(e){return p(e.currentTarget.value)}})):o.a.createElement("span",{style:{fontSize:16,wordBreak:"break-word"},onDoubleClick:function(){return s(!0)}},t||"NO STATUS"))}),G=a(41),H=a(28),W=function(e){return y.get("profile/"+e)},V=function(e){return y.get("profile/status/"+e)},Z=function(e){return y.put("profile/status",{status:e})},J=function(e){var t=new FormData;return t.append("image",e),y.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})};!function(e){e.setNewPostClick="PROFILE/SET-NEW-POST-CLICK",e.setProfileUserData="PROFILE/SET-PROFILE-USER-DATA",e.setStatus="PROFILE/SET-STATUS",e.updatePhotos="PROFILE/UPDATE-PHOTOS",e.updateProfileInfo="PROFILE/UPDATE-PROFILE-INFO"}(T||(T={}));var Q={postsData:[{id:Object(H.v1)(),message:"Memento mori",likeCount:12},{id:Object(H.v1)(),message:"How are you guys?",likeCount:212},{id:Object(H.v1)(),message:"Hello world!",likeCount:1212}],userProfilePage:{},preloader:!1,status:""},K=function(e){return{type:T.setStatus,payload:{status:e}}},X=a(24),Y=a.n(X),$=a(48),ee=a.n($),te=function(){var e=Object(g.d)(function(e){return e.profile.userProfilePage});return o.a.createElement("div",{className:ee.a.mainContainer},o.a.createElement("div",null,"About me:"," ",e.aboutMe?e.aboutMe:"no info"),e.contacts&&o.a.createElement("div",{className:ee.a.infoContainer},o.a.createElement("div",null,o.a.createElement("p",null,"GitHub:"," ",e.contacts.github?e.contacts.github:"soon"),o.a.createElement("p",null,"VK:"," ",e.contacts.vk?e.contacts.vk:"soon"),o.a.createElement("p",null,"Instagram:"," ",e.contacts.instagram?e.contacts.instagram:"soon")),o.a.createElement("div",null,o.a.createElement("p",null,"Website:"," ",e.contacts.website?e.contacts.website:"soon"),o.a.createElement("p",null,"Facebook:"," ",e.contacts.facebook?e.contacts.facebook:"soon"),o.a.createElement("p",null,"Twitter:"," ",e.contacts.twitter?e.contacts.twitter:"soon"))))},ae=a(67),ne=a.n(ae),re=a(22),oe=function(){var e=Object(g.d)(function(e){return e.profile.userProfilePage}),t=(Object(g.c)(),Object(re.a)({initialValues:{fullName:e.fullName,contacts:{vk:e.contacts.vk,twitter:e.contacts.twitter,facebook:e.contacts.facebook,website:e.contacts.website,instagram:e.contacts.instagram,github:e.contacts.github}},onSubmit:function(e){console.log(e)}}));return o.a.createElement("form",{className:ne.a.mainContainer,onSubmit:t.handleSubmit},o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("div",null,"\u041c\u043e\u0439 id:",e.userId),o.a.createElement("div",null,"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u043c\u044f \u043d\u0430:",o.a.createElement("input",Object.assign({id:"fullName",type:"text",placeholder:"fullName"},t.getFieldProps("fullName")))),o.a.createElement("div",null,"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0434\u0440\u0435\u0441 twitter \u043d\u0430:",o.a.createElement("input",Object.assign({id:"contacts.twitter",type:"text",placeholder:""},t.getFieldProps("contacts.twitter")))),o.a.createElement("div",null,"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0434\u0440\u0435\u0441 facebook \u043d\u0430:",o.a.createElement("input",Object.assign({id:"contacts.facebook",type:"text",placeholder:""},t.getFieldProps("contacts.facebook")))),o.a.createElement("div",null,"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u0441\u0432\u043e\u0435\u0433\u043e \u0441\u0430\u0439\u0442\u0430 \u043d\u0430:",o.a.createElement("input",Object.assign({id:"contacts.website",type:"text",placeholder:""},t.getFieldProps("contacts.website")))),o.a.createElement("div",null,"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0434\u0440\u0435\u0441 instagram \u043d\u0430:",o.a.createElement("input",Object.assign({id:"contacts.instagram",type:"text",placeholder:""},t.getFieldProps("contacts.instagram")))),o.a.createElement("div",null,"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0434\u0440\u0435\u0441 github \u043d\u0430:",o.a.createElement("input",Object.assign({id:"contacts.github",type:"text",placeholder:""},t.getFieldProps("contacts.github"))))),o.a.createElement("button",{type:"submit"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))},ie=o.a.memo(function(e){var t,a=e.profileUserData,n=e.status,i=e.updateStatusTC,c=Object(r.useState)(!0),s=Object(q.a)(c,2),l=s[0],u=s[1],m=Object(g.c)(),p=Object(g.d)(function(e){var t;return null===(t=e.profile.userProfilePage)||void 0===t?void 0:t.userId}),f=Object(g.d)(function(e){return e.login.id});return o.a.createElement("div",{className:Y.a.mainContainer},o.a.createElement("div",{className:Y.a.profileImgContainer},o.a.createElement("img",{src:(null===(t=a.photos)||void 0===t?void 0:t.small)?a.photos.large:"https://i.pinimg.com/736x/75/24/87/752487a0b94808fe215c2dbf3f3f18b7.jpg",alt:"\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0442\u043e\u0433\u043e, \u0447\u0435\u0433\u043e \u043d\u0435\u0442\u0443"}),o.a.createElement("div",{className:Y.a.nameContainer},o.a.createElement("p",null,a.fullName),o.a.createElement(B,{value:n,updateStatusTC:i}),p===f&&o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{name:"file",id:"file-type",type:"file",onChange:function(e){var t;e.target.files&&m((t=e.target.files[0],function(){var e=Object(O.a)(C.a.mark(function e(a){var n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a(I(!0)),e.prev=1,e.next=4,J(t);case 4:n=e.sent,a((r=n.data.data,{type:T.updatePhotos,payload:{photos:r}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),w(e.t0);case 11:a(I(!1));case 12:case"end":return e.stop()}var r},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()))},style:{display:"none"}}),o.a.createElement("label",{className:Y.a.fileInput,htmlFor:"file-type"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0443"),o.a.createElement("button",{className:Y.a.button,onClick:function(){return u(!l)}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435")))),o.a.createElement(te,null),l&&p===f&&o.a.createElement(oe,null))}),ce=a(29),se=a.n(ce),le=a(70),ue=a.n(le),me=o.a.memo(function(e){var t=e.message,a=e.likeCount;return o.a.createElement("div",{className:ue.a.mainContainer},o.a.createElement("img",{src:"https://cs13.pikabu.ru/avatars/3395/x3395805-1845289045.png",alt:"pikabu"}),o.a.createElement("div",null,o.a.createElement("div",null,t),o.a.createElement("div",null,o.a.createElement("span",null,"like: ",a))))}),pe=o.a.memo(function(e){var t=e.postsData,a=e.setNewPostClickAC,n=t.map(function(e){return o.a.createElement(me,{key:e.id,message:e.message,likeCount:e.likeCount})}),r=Object(re.a)({initialValues:{messages:""},onSubmit:function(e){a(e.messages),r.resetForm()}});return o.a.createElement("div",{className:se.a.mainContainer},o.a.createElement("div",{className:se.a.newPostContainer},o.a.createElement("span",null,"My posts"),o.a.createElement("form",{onSubmit:r.handleSubmit,className:se.a.formContainer},o.a.createElement("textarea",{name:"messages",id:"messages",placeholder:"write",onChange:r.handleChange,value:r.values.messages}),o.a.createElement("button",{type:"submit"},"Add new post"))),o.a.createElement("div",{className:se.a.posts},n))}),fe=Object(g.b)(function(e){return{postsData:e.profile.postsData}},{setNewPostClickAC:function(e){return{type:T.setNewPostClick,payload:{message:e,likeCount:0,id:Object(H.v1)()}}}})(pe),de=o.a.memo(function(e){var t=e.profileUserData,a=e.status,n=e.updateStatusTC,r=Object(g.d)(function(e){var t;return null===(t=e.profile.userProfilePage)||void 0===t?void 0:t.userId}),i=Object(g.d)(function(e){return e.login.id});return o.a.createElement("div",{className:z.a.mainContainer},o.a.createElement(ie,{profileUserData:t,status:a,updateStatusTC:n}),r===i&&o.a.createElement(fe,null))}),ge=a(71),be=a.n(ge),ve=function(){return o.a.createElement("img",{src:be.a,style:{width:100},alt:"\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u043b\u043e\u0441\u044c((("})},Ee=a(20),he=a(75),Ce=["isAuth"],Oe=function(e){return{isAuth:e.login.isAuth}};var je,Pe=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.setProfileUserDataTC(this.props),this.props.getStatusTC(this.props)}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.props.preloader&&o.a.createElement(ve,null),o.a.createElement(de,{profileUserData:this.props.userProfilePage,status:this.props.status,updateStatusTC:this.props.updateStatusTC}))}}]),a}(o.a.PureComponent),_e=Object(Ee.c)(Object(g.b)(function(e){return{preloader:e.userPage.preloader,userProfilePage:e.profile.userProfilePage,status:e.profile.status}},{setProfileUserDataTC:function(e){return function(){var t=Object(O.a)(C.a.mark(function t(a,n){var r,o,i;return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(I(!0)),(r=e.match.params.userId)||(o=n().login.id,r=o),t.prev=3,t.next=6,W(r);case 6:i=t.sent,a((c=i.data,{type:T.setProfileUserData,payload:{userProfilePage:c}})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),w(t.t0);case 13:a(I(!1));case 14:case"end":return t.stop()}var c},t,null,[[3,10]])}));return function(e,a){return t.apply(this,arguments)}}()},getStatusTC:function(e){return function(){var t=Object(O.a)(C.a.mark(function t(a,n){var r,o,i;return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(I(!0)),(r=e.match.params.userId)||(o=n().login.id,r=o),t.prev=3,t.next=6,V(r);case 6:i=t.sent,a(K(i.data)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),w(t.t0);case 13:a(I(!1));case 14:case"end":return t.stop()}},t,null,[[3,10]])}));return function(e,a){return t.apply(this,arguments)}}()},updateStatusTC:function(e){return function(){var t=Object(O.a)(C.a.mark(function t(a){return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(I(!0)),t.next=3,Z(e);case 3:0===t.sent.data.resultCode&&a(K(e)),a(I(!1));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}}),L.f,function(e){return Object(g.b)(Oe)(function(t){var a=t.isAuth,n=Object(he.a)(t,Ce);return a?o.a.createElement(e,n):o.a.createElement(L.a,{to:"/login"})})})(Pe),we=a(72),ye=a.n(we),ke=o.a.memo(function(e){var t=e.ThunkLogIn,a=e.isAuth,n=Object(g.c)(),r=Object(re.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password.length<3&&(t.password="The password is too short"),t},onSubmit:function(e){n(t(e.email,e.password,e.rememberMe))}});return a?o.a.createElement(L.a,{to:"/profile"}):o.a.createElement("div",{className:ye.a.allContainer},o.a.createElement("span",null,"Log In"),o.a.createElement("div",null,o.a.createElement("p",null,"To log in get registered",o.a.createElement("a",{href:"https://social-network.samuraijs.com/",target:"_blank"}," here")),o.a.createElement("p",null,"or use common test account credentials:"),o.a.createElement("p",null,"Email: free@samuraijs.com"),o.a.createElement("p",null,"Password: free")),o.a.createElement("form",{onSubmit:r.handleSubmit},o.a.createElement("input",Object.assign({id:"email",type:"email",placeholder:"email"},r.getFieldProps("email"))),r.touched.email&&r.errors.email&&o.a.createElement("div",{style:{color:"red"}},r.errors.email),o.a.createElement("br",null),o.a.createElement("input",Object.assign({id:"password",type:"password",placeholder:"password"},r.getFieldProps("password"))),r.touched.password&&r.errors.password&&o.a.createElement("div",{style:{color:"red"}},r.errors.password),o.a.createElement("br",null),o.a.createElement("input",Object.assign({id:"check",type:"checkbox",checked:r.values.rememberMe},r.getFieldProps("rememberMe")))," Remember Me",o.a.createElement("br",null),o.a.createElement("button",{type:"submit"},"Log In")))}),Ne=Object(g.b)(function(e){return{isAuth:e.login.isAuth}},{ThunkLogIn:function(e,t,a){return function(){var n=Object(O.a)(C.a.mark(function n(r){return C.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(I(!0)),n.prev=1,n.next=4,N(e,t,a);case 4:0===n.sent.data.resultCode&&r(D()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),w(n.t0);case 11:r(I(!1));case 12:case"end":return n.stop()}},n,null,[[1,8]])}));return function(e){return n.apply(this,arguments)}}()}})(ke);!function(e){e.initializedSuccess="APP/INITIALIZED-SUCCESS"}(je||(je={}));var Se,xe={initialized:!1},Ae=a(73),Ie=a.n(Ae),Te=function(){return o.a.createElement("header",{className:Ie.a.header},o.a.createElement("span",null,"Social Network"))},Ue=function(e){return y.delete("follow/"+e)},Fe=function(e){return y.post("follow/"+e)},De=function(e,t){var a={page:e,count:t,term:arguments.length>2&&void 0!==arguments[2]?arguments[2]:""};return y.get("users",{params:a})},Re=function(){return y.get("users",{params:{page:1,count:100,friend:!0}})};!function(e){e.subscribe="USERSPAGE/SUBSCRIBE",e.unSubscribe="USERSPAGE/UNSUBSCRIBE",e.setUsers="USERSPAGE/SET-USERS",e.setTotalUsersCount="USERSPAGE/SET-TOTAL-USERS-COUNT",e.changeCurrentPage="USERSPAGE/CHANGE-CURRENT-PAGE",e.toggleFollowingInProgress="USERSPAGE/TOGGLE-FOLLOWING-IN-PROGRESS"}(Se||(Se={}));var Le,Me={users:[],pageSize:20,totalUsersCount:0,currentPage:1,preloader:!1,followingInProgress:[]},ze=function(e){return{type:Se.subscribe,payload:{id:e}}},qe=function(e){return{type:Se.unSubscribe,payload:{id:e}}},Be=function(e){return{type:Se.setUsers,payload:{users:e}}},Ge=function(e){return{type:Se.setTotalUsersCount,payload:{totalUsersCount:e}}},He=function(e,t){return{type:Se.toggleFollowingInProgress,payload:{isFetching:e,userId:t}}},We=function(){return function(){var e=Object(O.a)(C.a.mark(function e(t){var a;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(I(!0)),e.prev=1,e.next=4,Re();case 4:a=e.sent,t(Be(a.data.items)),t(Ge(a.data.totalCount)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),w(e.t0);case 12:t(I(!1));case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()},Ve=function(e){return function(){var t=Object(O.a)(C.a.mark(function t(a){return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(I(!0)),a(He(!0,e)),t.prev=2,t.next=5,Ue(e);case 5:0===t.sent.data.resultCode&&a(qe(e)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),w(t.t0);case 12:a(He(!1,e)),a(I(!1));case 14:case"end":return t.stop()}},t,null,[[2,9]])}));return function(e){return t.apply(this,arguments)}}()},Ze=function(e){return function(){var t=Object(O.a)(C.a.mark(function t(a){return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(I(!0)),a(He(!0,e)),t.prev=2,t.next=5,Fe(e);case 5:0===t.sent.data.resultCode&&a(ze(e)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),w(t.t0);case 12:a(He(!1,e)),a(I(!1));case 14:case"end":return t.stop()}},t,null,[[2,9]])}));return function(e){return t.apply(this,arguments)}}()},Je=a(30),Qe=a.n(Je),Ke=function(){var e=Object(g.d)(function(e){return e.login.isAuth}),t=Object(g.d)(function(e){return e.userPage.users}),a=Object(g.c)();return Object(r.useEffect)(function(){a(We())},[]),e?o.a.createElement("div",{className:Qe.a.mainContainer},t.map(function(e){return o.a.createElement("div",{key:e.id,className:Qe.a.friendContainer},o.a.createElement("div",{className:Qe.a.imgContainer},o.a.createElement(p.c,{to:"/profile/"+e.id},o.a.createElement("img",{src:null===e.photos.small?"https://sun1-17.userapi.com/s/v1/if1/pvTi5V3csQH8-oqUnfesELwgtLWyEePqE6Hz5SdqoVZxItBnm_XwfAiDMfANJPjpj7jtW_O5.jpg?size=200x200&quality=96&crop=0,0,979,979&ava=1":e.photos.small,alt:"\u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"}))),o.a.createElement("div",{className:Qe.a.textContainer},o.a.createElement("span",null,e.name),o.a.createElement("span",{style:{fontSize:16}},e.status?e.status:"no status")),e.followed?o.a.createElement("button",{onClick:function(){return t=e.id,void a(Ve(t));var t}},"unfollow"):o.a.createElement("button",{onClick:function(){return t=e.id,void a(Ze(t));var t}},"follow"))})):o.a.createElement(L.a,{to:"/login"})},Xe=a(25),Ye=a.n(Xe),$e=a(44),et=a.n($e),tt=o.a.memo(function(e){var t=e.totalCount,a=e.pageCount,n=e.callback,i=Object(r.useState)(1),c=Object(q.a)(i,2),s=c[0],l=c[1],u=Math.ceil(t/a),m=[];!function(e,t,a){if(t>10)if(a>5)for(var n=a-4;n<=a+5&&(e.push(n),n!==t);n++);else for(var r=1;r<=10&&(e.push(r),r!==t);r++);else for(var o=1;o<=t;o++)e.push(o)}(m,u,s);var p=Object(r.useState)(null),f=Object(q.a)(p,2),d=f[0],g=f[1];return Object(r.useEffect)(function(){d&&n(s),g(1)},[s]),o.a.createElement("div",{className:et.a.pages},o.a.createElement("span",{onClick:function(){return l(1)}}," ","<<"," "),o.a.createElement("span",{onClick:function(){return l(s-1)}},"<"," "),m.map(function(e,t){return o.a.createElement("span",{key:t,className:s===e?et.a.currentPage:et.a.page,onClick:function(){return l(e)}},e," ")}),o.a.createElement("span",{onClick:function(){return l(s+1)}}," ",">"," "),o.a.createElement("span",{onClick:function(){return l(u)}},">>"," "))}),at=function(){var e=Object(g.d)(function(e){return e.userPage.users}),t=Object(g.d)(function(e){return e.userPage.totalUsersCount}),a=Object(g.d)(function(e){return e.userPage.currentPage}),n=Object(g.d)(function(e){return e.userPage.followingInProgress}),i=Object(g.c)(),c=Object(r.useCallback)(function(e){var t;i((t=e,{type:Se.changeCurrentPage,payload:{currentPage:t}}))},[]);return Object(r.useEffect)(function(){i(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:"");return function(){var a=Object(O.a)(C.a.mark(function a(n,r){var o,i;return C.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n(I(!0)),o=r().userPage.currentPage,n(I(!0)),a.prev=3,a.next=6,De(o,e,t);case 6:i=a.sent,n(Be(i.data.items)),n(Ge(i.data.totalCount)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),w(a.t0);case 14:n(I(!1));case 15:case"end":return a.stop()}},a,null,[[3,11]])}));return function(e,t){return a.apply(this,arguments)}}()}())},[a]),o.a.createElement("div",{className:Ye.a.container},o.a.createElement(tt,{totalCount:t,pageCount:10,callback:c}),o.a.createElement("div",{className:Ye.a.containerUsers},e.map(function(e){return o.a.createElement("div",{className:Ye.a.containerUser,key:e.id},o.a.createElement("div",{className:Ye.a.imgAndName},o.a.createElement("div",null,o.a.createElement(p.c,{to:"/profile/"+e.id},o.a.createElement("img",{src:null===e.photos.small?"https://sun1-17.userapi.com/s/v1/if1/pvTi5V3csQH8-oqUnfesELwgtLWyEePqE6Hz5SdqoVZxItBnm_XwfAiDMfANJPjpj7jtW_O5.jpg?size=200x200&quality=96&crop=0,0,979,979&ava=1":e.photos.small,alt:"\u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"}))),o.a.createElement("div",{className:Ye.a.statusAndName},o.a.createElement("span",null,e.name),o.a.createElement("span",{style:{fontSize:16}},e.status?e.status:"no status"))),e.followed?o.a.createElement("button",{disabled:n.some(function(t){return t===e.id}),onClick:function(){return t=e.id,void i(Ve(t));var t}},"unfollow"):o.a.createElement("button",{disabled:n.some(function(t){return t===e.id}),onClick:function(){return t=e.id,void i(Ze(t));var t}},"follow"))})))},nt=a(26),rt=a.n(nt),ot=function(){for(var e=Object(g.c)(),t=Object(g.d)(function(e){return e.userPage.users}).slice(0,6),a=Object(g.d)(function(e){return e.messages.messagesData}),n=0;n<6;n++)t[n]=Object(j.a)(Object(j.a)({},t[n]),{},{message:a[n].message,time:a[n].time});return Object(r.useEffect)(function(){e(We())},[]),o.a.createElement(o.a.Fragment,null,t.map(function(e){var t;return o.a.createElement("div",{className:rt.a.mainContainer,key:e.id},o.a.createElement("div",{className:rt.a.contentContainer},o.a.createElement("div",{className:rt.a.imgContainer},o.a.createElement(p.c,{to:"/profile/"+e.id},o.a.createElement("img",{src:(null===(t=e.photos)||void 0===t?void 0:t.small)?e.photos.small:"https://sun1-17.userapi.com/s/v1/if1/pvTi5V3csQH8-oqUnfesELwgtLWyEePqE6Hz5SdqoVZxItBnm_XwfAiDMfANJPjpj7jtW_O5.jpg?size=200x200&quality=96&crop=0,0,979,979&ava=1",alt:"Photo uf user"})),o.a.createElement("span",null,e.name))),o.a.createElement("div",{className:rt.a.textContainer},o.a.createElement("span",null,e.message),o.a.createElement("span",{className:rt.a.time},e.time)))}))},it=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeTC()}},{key:"render",value:function(){return this.props.initialized?o.a.createElement("div",{className:m.a.allContainer},o.a.createElement(Te,null),o.a.createElement("div",{className:m.a.mainContainer},o.a.createElement(R,null),o.a.createElement("div",{className:m.a.contentContainer},o.a.createElement(L.b,{path:"/dialogs",render:function(){return o.a.createElement(ot,null)}}),o.a.createElement(L.b,{exact:!0,path:"/",render:function(){return o.a.createElement(_e,null)}}),o.a.createElement(L.b,{path:"/profile/:userId?",render:function(){return o.a.createElement(_e,null)}}),o.a.createElement(L.b,{path:"/users",render:function(){return o.a.createElement(at,null)}}),o.a.createElement(L.b,{path:"/login",render:function(){return o.a.createElement(Ne,null)}}),o.a.createElement(L.b,{path:"/friends",render:function(){return o.a.createElement(Ke,null)}})))):o.a.createElement(ve,null)}}]),a}(o.a.PureComponent),ct=Object(Ee.c)(Object(g.b)(function(e){return{initialized:e.AppReducer.initialized}},{initializeTC:function(){return function(){var e=Object(O.a)(C.a.mark(function e(t){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(D());case 3:t({type:je.initializedSuccess}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),w(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()}}),L.f)(it),st=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,109)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),o(e),i(e)})};Le||(Le={});var lt={messagesData:[{message:"\u0412\u0441\u0442\u0440\u0435\u0447\u0430 \u0432 \u0441\u0443\u0431\u0431\u043e\u0442\u0443 \u0435\u0449\u0451 \u0432 \u0441\u0438\u043b\u0435?",time:"29/04/22 16:52"},{message:"\u0414\u043e\u0431\u0440\u044b\u0439 \u0434\u0435\u043d\u044c! \u0412\u044b \u0435\u0449\u0451 \u043f\u0440\u043e\u0434\u0430\u0435\u0442\u0435 \u0448\u043e\u0433\u0438?",time:"28/04/22 17:52"},{message:"\u041f\u0440\u0438\u0432\u0435\u0442! \u0414\u0430\u0432\u043d\u043e \u043d\u0435 \u0432\u0438\u0434\u0435\u043b\u0438\u0441\u044c, \u043a\u0430\u043a \u0434\u0435\u043b\u0430?",time:"27/04/22 18:52"},{message:"\u0412\u043e\u0442 \u043e\u0444\u0435\u0440 \u043d\u0430 3000$, \u0445\u043e\u0442\u0438\u0442\u0435 \u0431\u044b\u0442\u044c \u0443 \u043d\u0430\u0441 \u0434\u0436\u0443\u043d\u043e\u043c?",time:"26/04/22 19:52"},{message:"\u0422\u0435\u0431\u044f \u0442\u043e\u0447\u043d\u043e \u0432\u043e\u0437\u044c\u043c\u0443\u0442 \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443!",time:"25/04/22 21:52"},{message:"\u041a\u0430\u043a\u0430\u044f \u043a\u043b\u0430\u0441\u0441\u043d\u0430\u044f \u0441\u043e\u0446 \u0441\u0435\u0442\u044c \u0443 \u0442\u0435\u0431\u044f \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0430\u0441\u044c!",time:"24/04/22 20:52"}]},ut=a(74),mt=Object(Ee.b)({messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return(arguments.length>1?arguments[1]:void 0).type,e},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.setNewPostClick:return Object(j.a)(Object(j.a)({},e),{},{postsData:[t.payload].concat(Object(G.a)(e.postsData))});case T.setProfileUserData:case n.changePreloader:case T.setStatus:return Object(j.a)(Object(j.a)({},e),t.payload);case T.updatePhotos:return Object(j.a)(Object(j.a)({},e),{},{userProfilePage:Object(j.a)(Object(j.a)({},e.userProfilePage),t.payload.photos)});default:return e}},userPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se.subscribe:return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map(function(e){return e.id===t.payload.id?Object(j.a)(Object(j.a)({},e),{},{followed:!0}):Object(j.a)({},e)})});case Se.unSubscribe:return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map(function(e){return e.id===t.payload.id?Object(j.a)(Object(j.a)({},e),{},{followed:!1}):Object(j.a)({},e)})});case Se.setUsers:case Se.setTotalUsersCount:case Se.changeCurrentPage:case n.changePreloader:return Object(j.a)(Object(j.a)({},e),t.payload);case Se.toggleFollowingInProgress:return Object(j.a)(Object(j.a)({},e),{},{followingInProgress:t.payload.isFetching?[].concat(Object(G.a)(e.followingInProgress),[t.payload.userId]):e.followingInProgress.filter(function(e){return e!==t.payload.userId})});default:return Object(j.a)({},e)}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.setAuthData:return Object(j.a)(Object(j.a)({},e),t.payload);default:return Object(j.a)({},e)}},common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.changePreloader:return Object(j.a)(Object(j.a)({},e),t.payload);default:return Object(j.a)({},e)}},AppReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe;switch((arguments.length>1?arguments[1]:void 0).type){case je.initializedSuccess:return Object(j.a)(Object(j.a)({},e),{},{initialized:!0});default:return Object(j.a)({},e)}}}),pt=Object(Ee.d)(mt,Object(Ee.a)(ut.a));window.store=pt;var ft=a(33);a.n(ft).a.render(o.a.createElement(p.a,null,o.a.createElement(g.a,{store:pt},o.a.createElement(ct,null))),document.getElementById("root")),st()},23:function(e,t,a){e.exports={navbar:"Navbar_navbar__1tzDp",active:"Navbar_active__2uMtm"}},24:function(e,t,a){e.exports={mainContainer:"ProfileInfo_mainContainer__3j7O7",profileImgContainer:"ProfileInfo_profileImgContainer__1fJQT",nameContainer:"ProfileInfo_nameContainer__3RfvT",fileInput:"ProfileInfo_fileInput__2L_ui",button:"ProfileInfo_button__3uaCr"}},25:function(e,t,a){e.exports={container:"Users_container__iEjx_",containerUsers:"Users_containerUsers__gbPN0",containerUser:"Users_containerUser__2jjAV",imgAndName:"Users_imgAndName__3yKAQ",statusAndName:"Users_statusAndName__Gs-zP"}},26:function(e,t,a){e.exports={mainContainer:"Dialogs_mainContainer__QlxcU",contentContainer:"Dialogs_contentContainer__1ww0O",imgContainer:"Dialogs_imgContainer__22Ytq",timeContainer:"Dialogs_timeContainer__2qtEO",textContainer:"Dialogs_textContainer__sY_FZ",time:"Dialogs_time__1oBBZ"}},29:function(e,t,a){e.exports={mainContainer:"MyPost_mainContainer__3kFTJ",newPostContainer:"MyPost_newPostContainer__2hAHN",formContainer:"MyPost_formContainer__23NBj",posts:"MyPost_posts__B2XNC"}},30:function(e,t,a){e.exports={mainContainer:"Friends_mainContainer__1BJw6",friendContainer:"Friends_friendContainer__1piQZ",imgContainer:"Friends_imgContainer__32NKR",textContainer:"Friends_textContainer__36F30"}},43:function(e,t,a){e.exports={allContainer:"App_allContainer__2DW9Q",mainContainer:"App_mainContainer__32gD_",contentContainer:"App_contentContainer__26wrs"}},44:function(e,t,a){e.exports={pages:"Pagination_pages__25KpY",currentPage:"Pagination_currentPage__1WNWN",page:"Pagination_page__X0MDs"}},48:function(e,t,a){e.exports={mainContainer:"Contacts_mainContainer__oG1gv",infoContainer:"Contacts_infoContainer__kAqOu"}},66:function(e,t,a){e.exports={mainContainer:"Profile_mainContainer__1eiNj"}},67:function(e,t,a){e.exports={mainContainer:"Settings_mainContainer__2Z2x2"}},70:function(e,t,a){e.exports={mainContainer:"Post_mainContainer__1o5Er"}},71:function(e,t,a){e.exports=a.p+"static/media/preloader.087f5d2f.gif"},72:function(e,t,a){e.exports={allContainer:"Login_allContainer__aSMRf"}},73:function(e,t,a){e.exports={header:"Header_header__2mujF"}},76:function(e,t,a){e.exports=a(108)},78:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.83b0d7c0.chunk.js.map