{"ast":null,"code":"var _jsxFileName = \"D:\\\\It-inkubator\\\\socset-na-ts\\\\src\\\\common\\\\Paginator\\\\Paginator.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport s from './Pagination.module.css';\nexport const Paginator = React.memo(_ref => {\n  let {\n    totalCount,\n    pageCount,\n    callback\n  } = _ref;\n  const [currentPage, setCurrentPage] = useState(1);\n  const totalPages = Math.ceil(totalCount / pageCount);\n  const pages = [];\n\n  function createPages(pages, pagesCount, currentPage) {\n    if (pagesCount > 10) {\n      if (currentPage > 5) {\n        for (let i = currentPage - 4; i <= currentPage + 5; i++) {\n          pages.push(i);\n          if (i === pagesCount) break;\n        }\n      } else {\n        for (let i = 1; i <= 10; i++) {\n          pages.push(i);\n          if (i === pagesCount) break;\n        }\n      }\n    } else {\n      for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i);\n      }\n    }\n  }\n\n  createPages(pages, totalPages, currentPage);\n\n  const toFirstPage = () => setCurrentPage(1);\n\n  const toLastPage = () => setCurrentPage(totalPages);\n\n  const [test, setTest] = useState(null);\n  useEffect(() => {\n    if (test) {\n      callback(currentPage);\n    }\n\n    setTest(1);\n  }, [currentPage]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: s.pages,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    onClick: toFirstPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, \" \", '<<', \" \"), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: () => setCurrentPage(currentPage - 1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, '<', \" \"), pages.map((page, index) => /*#__PURE__*/React.createElement(\"span\", {\n    key: index,\n    className: currentPage === page ? s.currentPage : s.page,\n    onClick: () => setCurrentPage(page),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 45\n    }\n  }, page, \" \")), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: () => setCurrentPage(currentPage + 1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, \" \", '>', \" \"), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: toLastPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, '>>', \" \"));\n});","map":{"version":3,"sources":["D:/It-inkubator/socset-na-ts/src/common/Paginator/Paginator.tsx"],"names":["React","useEffect","useState","s","Paginator","memo","totalCount","pageCount","callback","currentPage","setCurrentPage","totalPages","Math","ceil","pages","createPages","pagesCount","i","push","toFirstPage","toLastPage","test","setTest","map","page","index"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport s from './Pagination.module.css'\r\n\r\ntype PaginatorPropsType = {\r\n    totalCount: number\r\n    pageCount: number\r\n    callback: (page: number) => void\r\n}\r\n\r\nexport const Paginator: React.FC<PaginatorPropsType> =\r\n    React.memo(({\r\n                    totalCount,\r\n                    pageCount,\r\n                    callback,\r\n                }) => {\r\n        const [currentPage, setCurrentPage] = useState(1)\r\n        const totalPages = Math.ceil(totalCount / pageCount)\r\n        const pages = [] as number[]\r\n\r\n        function createPages(pages: number[], pagesCount: number, currentPage: number) {\r\n            if (pagesCount > 10) {\r\n                if (currentPage > 5) {\r\n                    for (let i = currentPage - 4; i <= currentPage + 5; i++) {\r\n                        pages.push(i)\r\n                        if (i === pagesCount) break\r\n                    }\r\n                } else {\r\n                    for (let i = 1; i <= 10; i++) {\r\n                        pages.push(i)\r\n                        if (i === pagesCount) break\r\n                    }\r\n                }\r\n            } else {\r\n                for (let i = 1; i <= pagesCount; i++) {\r\n                    pages.push(i)\r\n                }\r\n            }\r\n        }\r\n\r\n        createPages(pages, totalPages, currentPage)\r\n\r\n        const toFirstPage = () => setCurrentPage(1)\r\n        const toLastPage = () => setCurrentPage(totalPages)\r\n\r\n        const [test, setTest] = useState<null | number>(null)\r\n        useEffect(() => {\r\n            if (test) {\r\n                callback(currentPage)\r\n            }\r\n            setTest(1)\r\n        }, [currentPage])\r\n\r\n        return (\r\n            <div className={s.pages}>\r\n                <span onClick={toFirstPage}> {'<<'} </span>\r\n                <span onClick={() => setCurrentPage(currentPage - 1)}>{'<'} </span>\r\n                {pages.map((page, index) => <span\r\n                    key={index}\r\n                    className={currentPage === page ? s.currentPage : s.page}\r\n                    onClick={() => setCurrentPage(page)}>{page} </span>)}\r\n                <span onClick={() => setCurrentPage(currentPage + 1)}> {'>'} </span>\r\n                <span onClick={toLastPage}>{'>>'} </span>\r\n            </div>\r\n        );\r\n    });"]},"metadata":{},"sourceType":"module"}