{"ast":null,"code":"var _jsxFileName = \"D:\\\\It-inkubator\\\\socset-na-ts\\\\src\\\\components\\\\Users\\\\Users.tsx\";\nimport s from './Users.module.css';\nimport userAvatar from '../../assets/img/null_avatar.png';\nimport React, { useCallback, useEffect } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { Paginator } from '../../common/Paginator/Paginator';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { changeCurrentPageAC, setUsersTC, subscribeTC, unSubscribeTC } from '../../redux/reducer/usersPageReducer';\nexport const Users = () => {\n  const users = useSelector(state => state.userPage.users);\n  const totalUsersCount = useSelector(state => state.userPage.totalUsersCount);\n  const followingInProgress = useSelector(state => state.userPage.followingInProgress);\n  const dispatch = useDispatch();\n\n  const onClickUnSubHandler = id => {\n    unSubscribeTC(id);\n  };\n\n  const onClickSubHandler = id => {\n    subscribeTC(id);\n  };\n\n  const changeCurrentPageHandler = useCallback(page => {\n    dispatch(changeCurrentPageAC(page));\n  }, []);\n  useEffect(() => {\n    dispatch(setUsersTC());\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: s.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Paginator, {\n    totalCount: totalUsersCount,\n    pageCount: 10,\n    callback: changeCurrentPageHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: s.containerUsers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, users.map(t => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: s.containerUser,\n      key: t.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: s.imgAndName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: '/profile/' + t.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: t.photos.small === null ? userAvatar : t.photos.small,\n      alt: \"\\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\\u043A\\u0430 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\\u0439\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: s.statusAndName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 33\n      }\n    }, t.name), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontSize: 16\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 33\n      }\n    }, t.status ? t.status : 'no status'))), t.followed ? /*#__PURE__*/React.createElement(\"button\", {\n      disabled: followingInProgress.some(id => id === t.id),\n      onClick: () => onClickUnSubHandler(t.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 39\n      }\n    }, \"unfollow\") : /*#__PURE__*/React.createElement(\"button\", {\n      disabled: followingInProgress.some(id => id === t.id),\n      onClick: () => onClickSubHandler(t.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 29\n      }\n    }, \"follow\"));\n  })));\n};","map":{"version":3,"sources":["D:/It-inkubator/socset-na-ts/src/components/Users/Users.tsx"],"names":["s","userAvatar","React","useCallback","useEffect","NavLink","Paginator","useDispatch","useSelector","changeCurrentPageAC","setUsersTC","subscribeTC","unSubscribeTC","Users","users","state","userPage","totalUsersCount","followingInProgress","dispatch","onClickUnSubHandler","id","onClickSubHandler","changeCurrentPageHandler","page","container","containerUsers","map","t","containerUser","imgAndName","photos","small","statusAndName","name","fontSize","status","followed","some"],"mappings":"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","sourcesContent":["import s from './Users.module.css';\r\nimport userAvatar from '../../assets/img/null_avatar.png';\r\nimport React, {useCallback, useEffect} from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {Paginator} from '../../common/Paginator/Paginator';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {changeCurrentPageAC, setUsersTC, subscribeTC, unSubscribeTC} from '../../redux/reducer/usersPageReducer';\r\nimport {AppRootStateType} from '../../redux/store';\r\nimport {UserType} from '../../api/userApi';\r\n\r\nexport const Users = () => {\r\n    const users = useSelector<AppRootStateType, UserType[]>(state => state.userPage.users)\r\n    const totalUsersCount = useSelector<AppRootStateType, number>(state => state.userPage.totalUsersCount)\r\n    const followingInProgress = useSelector<AppRootStateType, (string | null)[]>(state => state.userPage.followingInProgress)\r\n    const dispatch = useDispatch()\r\n    const onClickUnSubHandler = (id: string) => {\r\n        unSubscribeTC(id)\r\n    }\r\n    const onClickSubHandler = (id: string) => {\r\n        subscribeTC(id)\r\n    }\r\n    const changeCurrentPageHandler = useCallback((page: number) => {\r\n        dispatch(changeCurrentPageAC(page))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        dispatch(setUsersTC())\r\n    }, [])\r\n\r\n    return <div className={s.container}>\r\n        <Paginator totalCount={totalUsersCount} pageCount={10} callback={changeCurrentPageHandler}\r\n        />\r\n        <div className={s.containerUsers}>\r\n            {users.map(t => {\r\n                return (\r\n                    <div className={s.containerUser} key={t.id}>\r\n                        <div className={s.imgAndName}>\r\n                            <div>\r\n                                <NavLink to={'/profile/' + t.id}>\r\n                                    <img\r\n                                        src={t.photos.small === null\r\n                                            ? userAvatar\r\n                                            : t.photos.small} alt=\"аватарка пользователей\"\r\n                                    />\r\n                                </NavLink>\r\n                            </div>\r\n                            <div className={s.statusAndName}>\r\n                                <span>{t.name}</span>\r\n                                <span style={{fontSize: 16}}>\r\n                                    {t.status ? t.status : 'no status'}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        {t.followed ? <button\r\n                                disabled={followingInProgress.some(id => id === t.id\r\n                                )}\r\n                                onClick={() => onClickUnSubHandler(t.id)}>\r\n                                unfollow\r\n                            </button> :\r\n                            <button\r\n                                disabled={followingInProgress.some(id => id === t.id)}\r\n                                onClick={() => onClickSubHandler(t.id)}>follow\r\n                            </button>}\r\n                    </div>\r\n\r\n                )\r\n            })}\r\n        </div>\r\n    </div>\r\n}"]},"metadata":{},"sourceType":"module"}